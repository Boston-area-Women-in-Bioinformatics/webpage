---
import { ANALYTICS } from 'astrowind:config';

const gaId = ANALYTICS?.vendors?.googleAnalytics?.id;

const gaScript = gaId
  ? `window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', '${gaId}');`
  : '';
---

{
  gaId && (
    <>
      <script is:inline async src={`https://www.googletagmanager.com/gtag/js?id=${gaId}`} />
      <script is:inline set:html={gaScript} />
    </>
  )
}
