---
import GoogleFormWidget from '~/components/widgets/forms/GoogleFormWidget.astro';
import Layout from '~/layouts/PageLayout.astro';
import { SITE } from '~/config/site/config.js';

interface FormField {
  id: string;
  name: string;
  label: string;
  type: 'text' | 'email' | 'tel' | 'url' | 'textarea' | 'checkbox' | 'checkbox-group' | 'radio' | 'select';
  placeholder?: string;
  required?: boolean;
  entryId: string;
  rows?: number;
  checkboxText?: string;
  options?: { value: string; label: string }[];
  hasOther?: boolean;
  otherEntryId?: string;
}

const metadata = {
  title: SITE.title,
  description: SITE.description,
  dontUseTitleTemplate: true,
};

const endDate = new Date('2027-01-01T00:00:00Z');
const now = new Date();

const hideAfterDate = now >= endDate;

// Configure your form fields
const formFields: FormField[] = [
  {
    id: 'first-name',
    name: 'first-name',
    label: 'First Name',
    type: 'text',
    placeholder: 'Enter your first name',
    required: true,
    entryId: 'entry.1054961567',
  },
  {
    id: 'last-name',
    name: 'last-name',
    label: 'Last Name',
    type: 'text',
    placeholder: 'Enter your last name',
    required: true,
    entryId: 'entry.1999560545',
  },
  {
    id: 'email',
    name: 'email',
    label: 'E-mail',
    type: 'email',
    placeholder: 'your.email@example.com',
    required: true,
    entryId: 'entry.1163572311',
  },
  {
    id: 'phone',
    name: 'phone',
    label: 'Mobile phone number',
    type: 'tel',
    placeholder: '(XXX) XXX-XXXX',
    required: false,
    entryId: 'entry.1902143671',
  },
  {
    id: 'title',
    name: 'title',
    label: 'Title & Company (Most Recent)',
    type: 'text',
    placeholder: 'Role, Company',
    required: false,
    entryId: 'entry.528451911',
  },
  {
    id: 'linkedin',
    name: 'linkedin',
    label: 'LinkedIn profile',
    type: 'text',
    placeholder: 'https://linkedin.com/in/username',
    required: true,
    entryId: 'entry.1516352466',
  },
  {
    id: 'feedback',
    name: 'feedback',
    label: "Type of mentee you'd be most excited to work with",
    type: 'text',
    placeholder: 'Share your thoughts...',
    required: true,
    entryId: 'entry.562261500',
  },
  {
    id: 'mentor-experience',
    name: 'mentor-experience',
    label: 'Years of professional experience',
    type: 'radio',
    required: true,
    entryId: 'entry.139577100',
    options: [
      { value: '0-5', label: '0-5 years' },
      { value: '6-10', label: '6-10 years' },
      { value: '11-20', label: '11-20 years' },
      { value: '20+', label: '20+ years' },
    ],
  },
  {
    id: 'area',
    name: 'area',
    label: 'Areas of Experience',
    type: 'checkbox-group',
    required: true,
    entryId: 'entry.1764955939',
    options: [
      { value: 'Leadership', label: 'Leadership' },
      { value: 'Management', label: 'Management' },
      { value: 'Career transitions', label: 'Career transitions' },
      { value: 'Entrepreneurship', label: 'Entrepreneurship' },
      { value: 'Technical skills', label: 'Technical skills' },
      { value: 'Work-life balance', label: 'Work-life balance' },
      { value: 'Networking', label: 'Networking' },
      { value: 'Negotiation', label: 'Negotiation' },
      { value: 'Public speaking', label: 'Public speaking' },
    ],
    hasOther: true,
  },
  {
    id: 'mentee-experience',
    name: 'mentee-experience',
    label: 'Career stage you prefer to mentor',
    type: 'checkbox-group',
    required: true,
    entryId: 'entry.479727474',
    options: [
      { value: '1-3 years of industrial experience', label: '1-3 years' },
      { value: '3-7 years of industrial experience', label: '3-7 years' },
      { value: '>7 years of industrial experience', label: '>7 years' },
    ],
  },
  {
    id: 'meeting-style',
    name: 'meeting-style',
    label: 'Preferred meeting style',
    type: 'radio',
    required: false,
    entryId: 'entry.1978985469',
    options: [
      { value: 'Virtual', label: 'Virtual' },
      { value: 'In-person', label: 'In-person' },
      { value: 'Flexible', label: 'Flexible' },
    ],
  },
  {
    id: 'program-length',
    name: 'program-length',
    label: 'How long would you like the program?',
    type: 'radio',
    required: false,
    entryId: 'entry.322194551',
    options: [
      { value: '6 months', label: '6 months' },
      { value: '12 months', label: '12 months' },
    ],
    hasOther: true,
  },
  {
    id: 'meeting-freq',
    name: 'meeting-freq',
    label: 'Preferred meeting frequency',
    type: 'radio',
    required: false,
    entryId: 'entry.1004615806',
    options: [
      { value: 'Bi-weekly', label: 'Bi-weekly' },
      { value: 'Monthly', label: 'Monthly' },
    ],
    hasOther: true,
  },
  {
    id: 'meeting-time',
    name: 'meeting-time',
    label: 'Preferred meeting time',
    type: 'checkbox-group',
    required: false,
    entryId: 'entry.178813104',
    options: [
      { value: 'Morning', label: 'Morning' },
      { value: 'Noon', label: 'Noon' },
      { value: 'Evening', label: 'Evening' },
    ],
    hasOther: true,
  },
];
const guidelines = [
  'It only takes a few minutes to fill out, and your input will help us create the best match possible. Thank you for giving your time, insights, and encouragementâ€”it makes a huge difference!',
];
---

<Layout metadata={metadata}>
  <!-- AMA Page Header-->
  <section class="text-center pt-16 pb-8">
    <div class="container max-w-1/3 mx-auto">
      <h1 class="text-4xl sm:text-5xl font-bold mb-4 mx-auto leading-tight">Career Mentorship Program</h1>
      <h2 class="text-3xl sm:text-4xl font-bold mb-4 mx-auto leading-tight">Boston Women in Bioinformatics</h2>

      <div class="text-lg sm:text-xl text-muted md:mb-6 dark:text-slate-300 max-w-5xl mx-auto text-center">
        <p>
          Thank you for your interest in becoming a mentor! This program is all about building meaningful connections
          and helping others grow in their careers. By sharing a bit about your experience and preferences, we can pair
          you with a mentee who will really benefit from your guidance.
        </p>
      </div>
    </div>
  </section>

  <!-- Section to Submit Question-->
  <section>
    {
      !hideAfterDate && (
        <GoogleFormWidget
          formUrl="https://docs.google.com/forms/d/e/1FAIpQLScebxKdB3mXe7mPNsDoawSlTbcBfc_bp2kpNmW8XzhBU8g-nQ/formResponse"
          formName="mentor-form"
          title="Mentor Questionnaire"
          fields={formFields}
          submitButtonText="Send Feedback"
          successMessage="Thank you for your feedback!"
          guidelines={guidelines}
          showGuidelines={true}
          showGuidelinesInline={true}
        />
      )
    }
    {
      hideAfterDate && (
        <div class="p-6 max-w-3xl mx-auto my-4 text-center bg-yellow-100 border border-yellow-300 rounded-lg">
          <h2 class="text-2xl font-semibold mb-4">Thank you for participating.</h2>
        </div>
      )
    }
  </section>
</Layout>
