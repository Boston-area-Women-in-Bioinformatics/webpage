---
import GoogleFormWidget from '~/components/widgets/forms/GoogleFormWidget.astro';
import Layout from '~/layouts/PageLayout.astro';
import { SITE } from '~/config/site/config.js';

interface FormField {
  id: string;
  name: string;
  label: string;
  type: 'text' | 'email' | 'tel' | 'url' | 'textarea' | 'checkbox' | 'checkbox-group' | 'radio' | 'select';
  placeholder?: string;
  required?: boolean;
  entryId: string;
  rows?: number;
  checkboxText?: string;
  options?: { value: string; label: string }[];
  hasOther?: boolean;
  otherEntryId?: string;
}

const metadata = {
  title: SITE.title,
  description: SITE.description,
  dontUseTitleTemplate: true,
};

const endDate = new Date('2027-01-01T00:00:00Z');
const now = new Date();

const hideAfterDate = now >= endDate;

// Configure your form fields
const formFields: FormField[] = [
  {
    id: 'first-name',
    name: 'first-name',
    label: 'First Name',
    type: 'text',
    placeholder: 'Enter your first name',
    required: true,
    entryId: 'entry.129667525',
  },
  {
    id: 'last-name',
    name: 'last-name',
    label: 'Last Name',
    type: 'text',
    placeholder: 'Enter your last name',
    required: true,
    entryId: 'entry.1991936795',
  },
  {
    id: 'email',
    name: 'email',
    label: 'Email Address',
    type: 'email',
    placeholder: 'your.email@example.com',
    required: true,
    entryId: 'entry.2053230438',
  },
  {
    id: 'phone',
    name: 'phone',
    label: 'Phone Number',
    type: 'tel',
    placeholder: '(XXX) XXX-XXXX',
    required: false,
    entryId: 'entry.859010814',
  },
  {
    id: 'title',
    name: 'title',
    label: 'Title & Company (Most Recent)',
    type: 'text',
    placeholder: 'Role, Company',
    required: false,
    entryId: 'entry.1867590528',
  },
  {
    id: 'linkedin',
    name: 'linkedin',
    label: 'LinkedIn',
    type: 'url',
    placeholder: 'https://linkedin.com/in/username',
    required: true,
    entryId: 'entry.1371293215',
  },
  {
    id: 'mentee-experience',
    name: 'mentee-experience',
    label: 'Years of Professional Experience',
    type: 'select',
    required: true,
    entryId: 'entry.791205311',
    options: [
      { value: '0-5', label: '0-5 years' },
      { value: '6-10', label: '6-10 years' },
      { value: '11-20', label: '11-20 years' },
      { value: '+20', label: '20+ years' },
    ],
  },
  {
    id: 'area',
    name: 'area',
    label: 'Areas of Experience',
    type: 'checkbox-group',
    required: true,
    entryId: 'entry.1217655187',
    options: [
      {
        value: 'Leadership (leading a research team, mentoring junior scientists, guiding collaborative projects)',
        label: 'Leadership (leading a research team, mentoring junior scientists, guiding collaborative projects)',
      },
      {
        value: 'Management (managing lab or computational projects, timelines, and cross-functional teams)',
        label: 'Management (managing lab or computational projects, timelines, and cross-functional teams)',
      },
      {
        value:
          'Career transitions (moving from academia to industry, shifting from wet lab to bioinformatics, exploring new career paths)',
        label:
          'Career transitions (moving from academia to industry, shifting from wet lab to bioinformatics, exploring new career paths)',
      },
      {
        value:
          'Entrepreneurship (starting a biotech company, consulting, or launching data-driven tools for life sciences)',
        label:
          'Entrepreneurship (starting a biotech company, consulting, or launching data-driven tools for life sciences)',
      },
      {
        value:
          'Technical skills (learning R, Python, Nextflow, or improving data analysis, visualization, or pipeline-building skills)',
        label:
          'Technical skills (learning R, Python, Nextflow, or improving data analysis, visualization, or pipeline-building skills)',
      },
      {
        value: 'Work–life balance (managing workload, avoiding burnout, maintaining wellness in a demanding career)',
        label: 'Work–life balance (managing workload, avoiding burnout, maintaining wellness in a demanding career)',
      },
      {
        value:
          'Networking (building professional connections, engaging in the bioinformatics community, finding mentors or collaborators)',
        label:
          'Networking (building professional connections, engaging in the bioinformatics community, finding mentors or collaborators)',
      },
      {
        value: 'Negotiation (discussing promotions, salary, authorship, or collaborative roles confidently)',
        label: 'Negotiation (discussing promotions, salary, authorship, or collaborative roles confidently)',
      },
      {
        value:
          'Public speaking (presenting at conferences, defending research, improving science communication skills)',
        label:
          'Public speaking (presenting at conferences, defending research, improving science communication skills)',
      },
    ],
    hasOther: true,
  },
  {
    id: 'goals',
    name: 'goals',
    label: ' What are your main goals for this mentorship, and which single skill do you want to prioritize?',
    type: 'textarea',
    placeholder: 'Enter your goals here...',
    required: true,
    rows: 6,
    entryId: 'entry.2076090044',
  },
  {
    id: 'program-length',
    name: 'program-length',
    label: 'How long would you like the program to be?',
    type: 'radio',
    required: true,
    entryId: 'entry.833552881',
    options: [
      { value: '6 months', label: '6 months' },
      { value: '12 months', label: '12 months' },
    ],
    hasOther: true,
  },
  {
    id: 'meeting-style',
    name: 'meeting-style',
    label: 'Preferred meeting style',
    type: 'select',
    required: true,
    entryId: 'entry.1002571434',
    options: [
      { value: 'Virtual', label: 'Virtual' },
      { value: 'In person', label: 'In person' },
      { value: 'Flexible', label: 'Flexible' },
    ],
    hasOther: true,
  },
  {
    id: 'meeting-freq',
    name: 'meeting-freq',
    label: 'Preferred meeting frequency',
    type: 'radio',
    required: true,
    entryId: 'entry.1597348915',
    options: [
      { value: 'Biweekly', label: 'Bi-weekly' },
      { value: 'Monthly', label: 'Monthly' },
    ],
    hasOther: true,
  },
  {
    id: 'meeting-time',
    name: 'meeting-time',
    label: 'Preferred meeting time',
    type: 'radio',
    required: true,
    entryId: 'entry.1905492297',
    options: [
      { value: 'Morning', label: 'Morning' },
      { value: 'Afternoon', label: 'Afternoon' },
      { value: 'Evening', label: 'Evening' },
    ],
    hasOther: true,
  },
  {
    id: 'learning-style',
    name: 'learning-style',
    label: 'How do you learn best?',
    type: 'checkbox-group',
    required: true,
    entryId: 'entry.2022006030',
    options: [
      {
        value: 'Visual – I learn best with diagrams, charts, or videos.',
        label: 'Visual – I learn best with diagrams, charts, or videos.',
      },
      {
        value: 'Auditory – I prefer listening to explanations or discussions.',
        label: 'Auditory – I prefer listening to explanations or discussions.',
      },
      {
        value: 'Reading/Writing – I like written materials, notes, and articles.',
        label: 'Reading/Writing – I like written materials, notes, and articles.',
      },
      {
        value: 'Kinesthetic – I learn best by doing, experimenting, or hands-on practice.',
        label: 'Kinesthetic – I learn best by doing, experimenting, or hands-on practice.',
      },
      {
        value: 'Social – I like learning through conversations, collaboration, or group settings.',
        label: 'Social – I like learning through conversations, collaboration, or group settings.',
      },
    ],
    hasOther: true,
  },
  {
    id: 'feedback',
    name: 'feedback',
    label:
      "Is there anything else you'd like us or your future mentor to know about your background, goals, or expectations?",
    type: 'textarea',
    placeholder: 'Share your thoughts...',
    required: true,
    rows: 8,
    entryId: 'entry.1252258982',
  },
  // DO YOU WANT TO ADD TERMS AND CONDITIONS?
  //{
  //  id: 'agree',
  //  name: 'agree',
  //  label: 'Agreement',
  //  type: 'checkbox',
  //  required: true,
  //  checkboxText: 'I agree to the terms and conditions.',
  //  entryId: 'entry.XXXXXXXX', // Replace with actual Google Forms entry ID
  //},
];

const guidelines = [
  'Participation includes a one-time fee of $25 to help support program resources and activities.',
  'Please answer the following questions honestly and thoughtfully.',
  'Your responses will help us match you with a mentor who aligns with your interests, learning style, and career aspirations.',
];
---

<Layout metadata={metadata}>
  <!-- AMA Page Header-->
  <section class="text-center pt-16 pb-8">
    <div class="container max-w-1/3 mx-auto">
      <h1 class="text-4xl sm:text-5xl font-bold mb-4 mx-auto leading-tight">Career Mentorship Program</h1>
      <h2 class="text-3xl sm:text-4xl font-bold mb-4 mx-auto leading-tight">Boston Women in Bioinformatics</h2>

      <div class="text-lg sm:text-xl text-muted md:mb-6 dark:text-slate-300 max-w-5xl mx-auto text-center">
        <p>
          Welcome to the Women in Bioinformatics Mentorship Program! We’re excited to learn more about you and support
          your growth in this community. This form will help us understand your background, goals, and what kind of
          mentorship experience would be most valuable for you.
        </p>
      </div>
    </div>
  </section>

  <!-- Section to Submit Question-->
  <section>
    {
      !hideAfterDate && (
        <GoogleFormWidget
          formUrl="https://docs.google.com/forms/d/1V8OmWJza00UxHjm3tVsVnTKxGUKktfxjxlJ84XNm_Po/formResponse"
          formName="mentee-form"
          title="Mentee Questionnaire"
          guidelinesTitle="Guidelines for Submission"
          guidelines={guidelines}
          fields={formFields}
          submitButtonText="Submit Form"
          successMessage="Thank you! Your submission has been received."
          showGuidelines={true}
          showGuidelinesInline={true}
        />
      )
    }
    {
      hideAfterDate && (
        <div class="p-6 max-w-3xl mx-auto my-4 text-center bg-yellow-100 border border-yellow-300 rounded-lg">
          <h2 class="text-2xl font-semibold mb-4">Thank you for participating.</h2>
        </div>
      )
    }
  </section>
</Layout>
