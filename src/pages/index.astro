---
import Layout from '~/layouts/PageLayout.astro';
import { SITE } from '~/config/site/config.js';
import Hero2 from '~/components/widgets/Hero2.astro';
import Features2 from '~/components/widgets/Features2.astro';
import CallToAction from '~/components/widgets/CallToAction.astro';
//import eventImg from '~/../public/photos/2025/WIB_10Year_group_photo1.jpg'; // adjust path as needed
//import AddToCalendarButton from '~/components/AddToCalendarButton.tsx';
import Button from '~/components/ui/Button.astro';
import Card from '~/components/ui/Card.astro';
import UpcomingEvents from '~/components/widgets/UpcomingEvents.astro';
import { findLatestNewsletters } from '~/utils/newsletter';
import { findLatestPosts } from '~/utils/blog';
import { APP_NEWSLETTER, APP_BLOG } from 'astrowind:config';
import { getBlogPermalink } from '~/utils/permalinks';
import Image from '~/components/common/Image.astro';

const latestNewsletter = APP_NEWSLETTER.isEnabled ? (await findLatestNewsletters({ count: 1 }))[0] : null;
const latestBlogs = APP_BLOG.isEnabled ? (await findLatestPosts({ count: 4 })) || [] : [];

const metadata = {
  title: SITE.title,
  description: SITE.description,
};
---

<Layout metadata={metadata}>
  <!-- Hero Introduction Section -->
  <section class="py-16 md:py-20 bg-white dark:bg-dark">
    <div class="max-w-4xl mx-auto px-4 text-center">
      <h1 class="text-4xl sm:text-5xl md:text-6xl dark:text-gray-100 font-bold mb-4 leading-tight">
        Boston Women in
        <span class="text-accent dark:text-gray-100 highlight">Bioinformatics</span>
      </h1>
      <p class="text-lg sm:text-xl text-gray-700 dark:text-gray-300">
        Advancing Women in Bioinformatics by Creating Networks of Support, Collaboration, and Empowerment.
      </p>
    </div>
  </section>

  <!-- Shirt Call to Action -->
  <section class="py-16 md:py-20 bg-gray-50 dark:bg-slate-800">
    <div class="max-w-7xl mx-auto px-4 md:px-6">
      <Hero2
        title="Our Merch Game is Finally Deploying"
        subtitle="Join us in bringing Boston Women in Bioinformatics swag to life! Show your pride at events, workshops, zoom calls, and anywhere your bioinformatics journey takes you."
        tagline="Preorder Now for Just $24"
        imageBefore={true}
        imageGap="lg:gap-1"
        padding="py-8 md:py-10 lg:py-0"
        image={{
          src: '/photos/tshirt_mockup.svg', // Replace with actual path to uploaded shirt image
          alt: 'Women+ in Bioinformatics T-shirt with colorful circular logo',
        }}
      >
        <Fragment slot="content">
          <div class="text-center mb-6">
            <p class="text-lg text-gray-700 dark:text-gray-300 mb-2">
              We're aiming for <span class="font-bold text-accent dark:text-green-400">30 responses</span> to get a quote
              from the shirt wizards.
            </p>
            <p class="text-base text-gray-600 dark:text-gray-400 italic">
              The faster you respond, the faster we can make this magic happen!
            </p>
          </div>
          <div class="flex gap-4 justify-center flex-wrap">
            <Button
              variant="primary"
              text="Order Your Shirt Now"
              href="https://forms.gle/BQuWoMSu7ueii9wk7"
              icon="tabler:square-rounded-arrow-right"
            />
            <Button variant="secondary" text="Join Our Community" href="/contact" />
          </div>
          <p class="text-sm text-gray-500 dark:text-gray-400 mt-6 text-center italic">
            Let's make 2026 cozy, nerdy, and fabulous. ✨
          </p>
        </Fragment>
      </Hero2>
    </div>
  </section>

  <!-- Upcoming Events Section -->
  <section class="py-16 md:py-20 bg-white dark:bg-dark dark:text-gray-200">
    <div class="max-w-7xl mx-auto px-4 md:px-6">
      <UpcomingEvents />
    </div>
  </section>

  <!-- Community Survey Section -->
  <section class="py-16 md:py-20 bg-gray-50 dark:bg-slate-800">
    <CallToAction
      title="Participate in Our Community Study"
      actions={[
        {
          variant: 'primary',
          target: '_blank',
          text: 'Fill out our survey',
          href: 'https://forms.gle/jhKy3hpYPf1WtC2s8',
          icon: 'tabler:checkbox',
        },
      ]}
    >
      <Fragment slot="subtitle">
        <span class="text-gray-700 dark:text-gray-300">
          Are you a bioinformatician, computational biologist, or working in an adjacent field? Boston Women in
          Bioinformatics (BWIB) is conducting a national survey to better understand the landscape of our field. This
          survey is for everyone, not just women, and only takes ~5 minutes to complete. All responses are anonymous and
          will be used for community-driven research and programming.<br class="hidden md:inline" />[~5 min]
        </span>
      </Fragment>
    </CallToAction>
  </section>

  <!-- Latest Content Section -->
  <section class="py-16 md:py-20 dark:bg-dark dark:text-gray-200">
    <div class="max-w-7xl mx-auto px-4 md:px-6">
      <h2 class="text-3xl font-bold tracking-tight sm:text-4xl mb-8 text-center">Latest from Our Community</h2>

      <div class="grid md:grid-cols-2 gap-8">
        <!-- Newsletter Column -->
        {
          latestNewsletter &&
            (() => {
              const isRemoteNewsletterImage =
                typeof latestNewsletter.image === 'string' &&
                (latestNewsletter.image.startsWith('http') ||
                  latestNewsletter.image.startsWith('/assets/') ||
                  latestNewsletter.image.startsWith('/blog_images/'));
              return (
                <article aria-labelledby="latest-newsletter-heading">
                  <h3 id="latest-newsletter-heading" class="text-2xl font-bold mb-4">
                    Latest Newsletter
                  </h3>
                  <Card variant="blog" padding="p-0">
                    {latestNewsletter.image && (
                      <a
                        href={latestNewsletter.permalink}
                        aria-label={`Read newsletter: ${latestNewsletter.excerpt?.slice(0, 60) || latestNewsletter.title}`}
                        class="block"
                      >
                        {isRemoteNewsletterImage ? (
                          <img
                            src={latestNewsletter.image}
                            alt={
                              latestNewsletter.imageAlt ||
                              latestNewsletter.excerpt?.slice(0, 100) ||
                              latestNewsletter.title
                            }
                            class="w-full h-64 object-cover"
                            loading="lazy"
                          />
                        ) : (
                          <Image
                            src={latestNewsletter.image}
                            alt={
                              latestNewsletter.imageAlt ||
                              latestNewsletter.excerpt?.slice(0, 100) ||
                              latestNewsletter.title
                            }
                            class="w-full h-64 object-cover"
                            widths={[400, 600]}
                            width={600}
                            height={400}
                            sizes="(max-width: 768px) 100vw, 50vw"
                            loading="lazy"
                          />
                        )}
                      </a>
                    )}
                    <div class="p-6">
                      <h4 class="text-xl font-bold mb-3">
                        <a
                          href={latestNewsletter.permalink}
                          class="hover:text-primary dark:hover:text-blue-700 transition ease-in duration-200"
                        >
                          {latestNewsletter.title}
                        </a>
                      </h4>
                      {latestNewsletter.excerpt && (
                        <p class="text-muted dark:text-slate-300 text-base mb-4">{latestNewsletter.excerpt}</p>
                      )}
                      <Button variant="link" href={latestNewsletter.permalink}>
                        Read more »
                      </Button>
                    </div>
                  </Card>
                </article>
              );
            })()
        }

        <!-- Blog Posts Column -->
        <div>
          <h3 class="text-2xl font-bold mb-4">Recent Blog Posts</h3>
          <div class="grid grid-cols-2 gap-4">
            {
              latestBlogs.map((post) => {
                const objectPosition =
                  post.imagePosition === 'top' ? 'top' : post.imagePosition === 'bottom' ? 'bottom' : 'center';
                const isRemoteImage =
                  typeof post.image === 'string' &&
                  (post.image.startsWith('http') ||
                    post.image.startsWith('/assets/') ||
                    post.image.startsWith('/blog_images/'));
                return (
                  <Card variant="blog" padding="p-0">
                    {post.image && (
                      <a href={post.permalink} class="block">
                        {isRemoteImage ? (
                          <img
                            src={post.image}
                            alt={post.imageAlt}
                            class="w-full h-32 object-cover"
                            style={`object-position: ${objectPosition};`}
                            loading="lazy"
                          />
                        ) : (
                          <Image
                            src={post.image}
                            alt={post.imageAlt}
                            class="w-full h-32 object-cover"
                            style={`object-position: ${objectPosition};`}
                            widths={[200, 300]}
                            width={300}
                            height={200}
                            sizes="(max-width: 768px) 50vw, 25vw"
                            loading="lazy"
                          />
                        )}
                      </a>
                    )}
                    <div class="p-3">
                      <h4 class="text-sm font-bold leading-tight mb-1">
                        <a
                          href={post.permalink}
                          class="hover:text-primary dark:hover:text-blue-700 transition ease-in duration-200"
                        >
                          {post.title}
                        </a>
                      </h4>
                      {post.excerpt && (
                        <p class="text-muted dark:text-slate-300 text-xs line-clamp-2">{post.excerpt}</p>
                      )}
                    </div>
                  </Card>
                );
              })
            }
          </div>
          <div class="text-center mt-6">
            <Button variant="link" href={getBlogPermalink()}> View all blog posts » </Button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Let's Connect Section -->
  <section class="py-16 md:py-20 bg-gray-50 dark:bg-slate-800">
    <Features2
      title="Let's Connect!"
      subtitle="Join our community and stay in touch"
      columns={2}
      classes={{
        headline: {
          title: 'text-4xl md:text-5xl font-bold mb-4',
          subtitle: 'text-xl dark:text-gray-200',
        },
      }}
      items={[
        // {
        //   title: 'General support',
        //   description: `Chat with us for inquiries related to account management, website navigation, payment issues, accessing purchased templates or general questions about the website's functionality.`,
        // },
        // {
        //   title: 'Contact sales',
        //   description:
        //     'Chat with us for questions about purchases, customization options, licensing for commercial use, inquiries about specific template, etc.',
        // },
        // {
        //   title: 'Technical support',
        //   description:
        //     'Chat with us when facing issues like template installation, problems editing difficulties, compatibility issues with software or download errors, or other technical challenges related to using the templates.',
        // },
        {
          title: 'Slack',
          description: 'Join our Slack community',
          icon: 'tabler:brand-slack',
          callToAction: {
            target: '_blank',
            href: 'https://join.slack.com/t/boston-women-bioinfo/shared_invite/zt-2y78bc7n7-W4TE7kuz8HGz4pzShTeZMQ',
          },
        },
        {
          title: 'Email',
          description: 'Reach out to our team',
          icon: 'tabler:mail',
          callToAction: {
            target: '_blank',
            href: 'mailto:Bostonwomeninbioinformatics@gmail.com',
          },
        },
        {
          title: 'LinkedIn',
          description: 'Connect with us on LinkedIn',
          icon: 'tabler:brand-linkedin',
          callToAction: {
            target: '_blank',
            href: 'https://www.linkedin.com/groups/13074137/',
          },
        },
        {
          title: 'Events Calendar',
          description: 'View our upcoming events',
          icon: 'tabler:calendar-event',
          callToAction: {
            target: '_blank',
            href: 'https://luma.com/bwib',
          },
        },
      ]}
    />
  </section>
  <!-- <Fragment slot="image">
      <YouTube id="gxBkghlglTg" title="Astro just Launched.... Could it be the ultimate web framework?" />
      <style is:inline>
        lite-youtube {
          margin: 0 auto;
          max-width: 100%;
        }
      </style>
    </Fragment> -->
  <!-- </Hero> -->

  <!-- Features2 Widget ************** -->
  <!-- 
  <Features2
    title="About us"
    subtitle="We believe in the magic of turning dreams into stunning realities. Founded by passionate developers with a shared vision, we set out to simplify the website creation process. Our templates bring together the innovation of Astro 4.0 and the versatility of Tailwind CSS, enabling you to express your unique brand identity like never before."
  >
    <Fragment slot="bg">
      <div class="absolute inset-0 bg-blue-50 dark:bg-transparent"></div>
    </Fragment>
  </Features2> -->

  <!-- Stats Widget ****************** -->
  <!-- 
  <Stats
    title="Discover the impressive impact of Astrowind"
    subtitle="The numbers below reflect the trust our users have placed in us and the remarkable outcomes we've helped them achieve."
    stats={[
      { title: 'Downloads', amount: '182K' },
      { title: 'Websites Launched', amount: '87' },
      { title: 'User Ratings', amount: '4.8' },
      { title: 'Satisfied Clients', amount: '116K' },
    ]}
  /> -->

  <!-- Brands Widget ****************** -->

  <!-- <Brands
    title="Partnerships & Collaborations"
    subtitle="At Astrowind, we believe in the power of collaboration to drive innovation and create exceptional experiences."
    icons={[]}
    images={[
      {
        src: 'https://cdn.pixabay.com/photo/2015/05/26/09/37/paypal-784404_1280.png',
        alt: 'Paypal',
      },
      {
        src: 'https://cdn.pixabay.com/photo/2021/12/06/13/48/visa-6850402_1280.png',
        alt: 'Visa',
      },
      {
        src: 'https://cdn.pixabay.com/photo/2013/10/01/10/29/ebay-189064_1280.png',
        alt: 'Ebay',
      },

      {
        src: 'https://cdn.pixabay.com/photo/2015/04/13/17/45/icon-720944_1280.png',
        alt: 'Youtube',
      },
      {
        src: 'https://cdn.pixabay.com/photo/2013/02/12/09/07/microsoft-80658_1280.png',
        alt: 'Microsoft',
      },
      {
        src: 'https://cdn.pixabay.com/photo/2015/04/23/17/41/node-js-736399_1280.png',
        alt: 'Node JS',
      },
      {
        src: 'https://cdn.pixabay.com/photo/2015/10/31/12/54/google-1015751_1280.png',
        alt: 'Google',
      },
      {
        src: 'https://cdn.pixabay.com/photo/2021/12/06/13/45/meta-6850393_1280.png',
        alt: 'Meta',
      },
      {
        src: 'https://cdn.pixabay.com/photo/2013/01/29/22/53/yahoo-76684_1280.png',
        alt: 'Yahoo',
      },
    ]}
  /> -->

  <!-- Features2 Widget ************** -->

  <!-- <Features2
    title="What services do we provide?"
    subtitle="We offer a wide range of website templates that suit various industries and purposes such as business, portfolio, e-commerce, blog, etc."
    items={[
      {
        title: 'Installation Instructions',
        description:
          'Offer clear instructions on how to download the purchased templates and install them on various website platforms or content management systems.',
        icon: 'flat-color-icons:document',
      },
      {
        title: 'Demo and Previews',
        description:
          'Provide interactive demos and previews that allow customers to see how their chosen template will look and function before making a purchase.',
        icon: 'flat-color-icons:template',
      },
      {
        title: 'Technical Support',
        description:
          'Providing customer support for any technical issues related to the templates or their implementation.',
        icon: 'flat-color-icons:voice-presentation',
      },
    ]}
  >
    <Fragment slot="bg">
      <div class="absolute inset-0 bg-blue-50 dark:bg-transparent"></div>
    </Fragment>
  </Features2> -->

  <!-- Features Widget *************** -->

  <!-- <Features
    id="features"
    title="Main features of our templates"
    subtitle="Possess several key characteristics to effectively cater to the needs of startups and entrepreneurs."
    columns={3}
    items={[
      {
        title: 'Modern and Professional Design',
        description:
          'Have a contemporary design that reflects current design trends and gives a professional impression.',
        icon: 'tabler:artboard',
      },
      {
        title: 'Responsive and Mobile-Friendly',
        description: 'Adapt seamlessly to different screen sizes and devices to ensure a consistent experience.',
        icon: 'tabler:picture-in-picture',
      },
      {
        title: 'Customizability',
        description:
          'Easily customizable, allowing users to adapt the design, colors, typography, and content to match their brand identity.',
        icon: 'tabler:adjustments-horizontal',
      },
      {
        title: 'Fast Loading Times',
        description: 'Optimized for speed to ensure a smooth user experience and favorable search engine rankings.',
        icon: 'tabler:rocket',
      },
      {
        title: 'Search Engine Optimization (SEO)',
        description:
          'Incorporate SEO best practices in template structure and code to improve visibility in search engine results.',
        icon: 'tabler:arrows-right-left',
      },
      {
        title: 'Compatibility',
        description: 'The templates work seamlessly across various content management systems and website builders.',
        icon: 'tabler:plug-connected',
      },
    ]}
  /> -->

  <!-- FAQs Widget ******************* -->

  <!-- <FAQs
    title="Frequently Asked Questions"
    items={[
      {
        title: 'What are landing page templates?',
        description:
          'Landing page templates are pre-designed web page layouts that are specifically created to serve as a foundation for building effective landing pages. These templates are designed to capture the attention of visitors and guide them towards a specific action or goal, such as signing up for a newsletter, making a purchase, or downloading a resource.',
      },
      {
        title: 'Why should I use a template?',
        description:
          'Some of the advantages are that they provide a ready-to-use structure,  saving you significant time. Are designed with user-friendliness in mind and provide a cost-effective alternative, saving you money while still delivering a quality result.',
      },
      {
        title: 'Can I preview templates before buying?',
        description:
          'Yes, the templates allow you to preview them before making a purchase. There is a "Demo" button associated with each template.',
      },
      {
        title: 'Do I need technical skills to use a template?',
        description:
          'Advanced technical skills are not required to use a template, but having a basic understanding of web navigation and familiarity with using online tools can still be beneficial. If you have more specific customization needs, you might need to consult guides or reach out to customer support for assistance.',
      },
      {
        title: 'Can I use the template on multiple websites?',
        description:
          'No, the template comes with a single-use license, meaning you can use the template on one website or project only. Using the template on additional websites would require purchasing additional licenses.',
      },
      {
        title: 'What if I need help with customization?',
        description:
          "The templates provides a comprehensive step-by-step guide that walk you through the customization process. If you still have doubts, you can reach out to our customer support team. They can answer your questions, provide guidance on customization, and address any issues you're facing.",
      },
    ]}
  >
    <Fragment slot="bg">
      <div class="absolute inset-0 bg-blue-50 dark:bg-transparent"></div>
    </Fragment>
  </FAQs> -->

  <!-- Features3 Widget ************** -->

  <!-- CallToAction Widget *********** 

  <CallToAction
    actions={[
      {
        variant: 'primary',
        target: '_blank',
        text: 'Join us',
        href: 'https://www.meetup.com/boston-area-womens-bioinformatics/',
        icon: 'tabler:download',
      },
    ]}
  >
    <Fragment slot="title">Be a part of our vision</Fragment>

    <Fragment slot="subtitle">
      Discover a dynamic work environment, unparalleled growth opportunities, and the chance to make a meaningful
      impact.
    </Fragment>
  </CallToAction>
</Layout>
-->
</Layout>
